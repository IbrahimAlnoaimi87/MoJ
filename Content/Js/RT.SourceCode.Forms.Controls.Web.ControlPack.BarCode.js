/*!
 SourceCode.Forms.Controls.Web.ControlPack.Resources.Script.BarCodeType.js (Embedded resource)
*/
(function(n){(typeof SourceCode=="undefined"||SourceCode===null)&&(SourceCode={});(typeof SourceCode.Forms=="undefined"||SourceCode.Forms===null)&&(SourceCode.Forms={});(typeof SourceCode.Forms.Controls=="undefined"||SourceCode.Forms.Controls===null)&&(SourceCode.Forms.Controls={});(typeof SourceCode.Forms.Controls.Web=="undefined"||SourceCode.Forms.Controls.Web===null)&&(SourceCode.Forms.Controls.Web={});(typeof SourceCode.Forms.Controls.Web.ControlPack=="undefined"||SourceCode.Forms.Controls.Web.ControlPack===null)&&(SourceCode.Forms.Controls.Web.ControlPack={});var t;SourceCode.Forms.Controls.Web.ControlPack.BarCode=t=n.extend({},SourceCode.Forms.Controls.Web.ControlPack.ControlPackBase,{_config:{properties:[{name:"value",isDisplay:!1},{name:"isSupported",isDisplay:!1}],methods:["initialized","changed","scanning","scanned","error","notSupported","scan","handleData"]},_utility:{getMappedProperty:function(n){var q=t._config.properties,r=q.map(function(n){return n.name.toUpperCase()}),u=r.indexOf(n.toUpperCase());return q[u]},getMappedMethod:function(n){var r=n.toUpperCase(),q=t._config.methods,u=q.map(function(n){return n.toUpperCase()}),f=u.indexOf(r);return q[f]}},execute:function(n){var q=t._utility.getMappedMethod(n.methodName);typeof q!="undefined"&&t._getInstance(n.CurrentControlId).SFCBarCode(q,n)},getProperty:function(n){var q=t._getInstance(n.CurrentControlId),r=t._utility.getMappedProperty(n.property);if(typeof r!="undefined"){var u=q.SFCBarCode("option",r.name),f=u===q?!1:!0;if(f)return u}},setProperty:function(n){var r=t._getInstance(n.CurrentControlId),q=t._utility.getMappedProperty(n.property),u=n.Value;typeof q!="undefined"&&r.SFCBarCode("option",q,u)},displayPropertyMethod:function(n){var q=t._utility.getMappedProperty(n.propertyId);return typeof q!="undefined"?q.isDisplay:!0}})})(jQuery);
/*!
 SourceCode.Forms.Controls.Web.ControlPack.Resources.Script.BarCodeWidget.js (Embedded resource)
*/
(function(n){n.widget("sfc.SFCBarCode",n.sfc.baseWidget,{options:{width:"auto",value:"",isSupported:!1},_config:{mobileMethod:"barcode",state:""},_supportedPromise:null,_create:function(){this._init();switch(this._config.state){case"runtime":var t=this,q=n(t.element).attr("id");this._supportedPromise=SourceCode.Forms.Runtime.MobileBridge.isSupported({methodName:t._config.mobileMethod}).done(function(n){t.options.isSupported=n;t.options.isSupported?t._bindEventListner():t.notSupported();t.initialized()})}},_init:function(){this._config.state=this.element.attr("data-state")},_bindEventListner:function(){var t=this,q=n(this.element).attr("id")},_setOption:function(n,t){switch(n.toLowerCase()){case"value":this.options.value=t}this._super(n,t)},_getOption:function(n){switch(n.toLowerCase()){case"value":return this.options.value}return this._super(n)},_destroy:function(){this.element.removeClass(".SFC.SourceCode-Forms-Controls-Web-ContolPack-BarCode").html("")},_isValidBarCode:function(n){return typeof n=="string"||typeof n=="number"},initialized:function(){raiseEvent(n(this.element).attr("id"),"Control","Initialized")},changed:function(){raiseEvent(this.element.attr("id"),"Control","Changed")},scanning:function(){raiseEvent(this.element.attr("id"),"Control","Scanning")},scanned:function(){raiseEvent(this.element.attr("id"),"Control","Scanned")},error:function(){raiseEvent(this.element.attr("id"),"Control","Error")},notSupported:function(){this.error();raiseEvent(this.element.attr("id"),"Control","Not Supported")},scan:function(){this._supportedPromise.done(this._scan.bind(this))},_scan:function(){var n=this;if(n.options.isSupported)try{n.scanning();var t=n.element.attr("id");SourceCode.Forms.Runtime.MobileBridge.sendToMobileDevice({methodName:n._config.mobileMethod}).done(function(t){n.handleData(t)});raiseEvent(t,"Control","Scan")}catch(q){n.scanned();n.error()}else n.notSupported()},handleData:function(n){var t=this,q=n.data;t._isValidBarCode(q)?(t._setOption("value",q),t.scanned(),t.changed()):(t.scanned(),t.error())}});n(document).ready(function(){n("[data-state='runtime'].SFC.SourceCode-Forms-Controls-Web-ControlPack-BarCode").each(function(){var t=this;n(t).SFCBarCode()})})})(jQuery);
